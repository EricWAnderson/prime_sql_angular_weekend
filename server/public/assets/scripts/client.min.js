/*! prime_sql-angular-weekend 2016-01-24 */
var app=angular.module("myApp",["ngRoute"]);app.config(["$routeProvider",function(a){a.when("/addresses",{templateUrl:"views/addresses.html",controller:"addressesController"}).when("/orders",{templateUrl:"views/orders.html",controller:"ordersController"})}]),app.controller("mainController",["$scope","$location","databaseService",function(a,b,c){a.data=c.data,a.isActive=function(a){return a===b.path()},c.users(),a.addresses=c.addresses,a.orderLookup=c.orderLookup,a.selectedUser=null}]),app.controller("addressesController",["$scope","databaseService",function(a,b){b.data.orderLookupBoolean=!1}]),app.controller("ordersController",["$scope","databaseService",function(a,b){b.data.addressLookupBoolean=!1}]),app.factory("databaseService",["$http",function(a){var b={};b.orderLookupBoolean=!1,b.addressLookupBoolean=!1;var c=function(){a.get("/user").then(function(a){b.users=a.data})},d=function(c){var d=c.id;a.get("/user/"+d).then(function(a){b.addressLookupBoolean=!0,b.addresses=a.data})},e=function(c,d,e){var f=c.id;a.get("/user/orderLookup/"+f+"/"+d+"/"+e).then(function(a){b.orderLookupBoolean=!0,b.orderLookup=a.data,b.orderTotal=0;for(var c=0;c<b.orderLookup.length;c++)b.orderTotal+=parseFloat(b.orderLookup[c].amount);b.orderTotal=b.orderTotal.toFixed(2)})};return{orderLookup:e,addresses:d,users:c,data:b}}]);